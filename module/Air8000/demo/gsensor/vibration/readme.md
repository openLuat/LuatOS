
## 演示功能概述

使用Air8000整机开发板，本示例主要是展示exvib库的使用，提供了三种场景应用：

1，微小震动检测：用于检测轻微震动的场景，例如用手敲击桌面；加速度量程2g；

2，运动检测：用于电动车或汽车行驶时的检测和人行走和跑步时的检测；加速度量程4g；

3，跌倒检测：用于人或物体瞬间跌倒时的检测；加速度量程8g；

在震动检测方面提供了两种模式，有效震动模式和持续震动检测模式：

持续震动检测模式：震动强度超过设定阈值时，会进入中断处理函数，获取xyz三轴的数据

有效震动模式：当10秒内触发5次震动强度超过设定阈值时，持续触发震动事件，并执行相应的处理函数，30分钟内只能触发一次，直到30分钟之后，再重新开始检测

## 演示软件使用说明

## 演示硬件环境

1、Air8000整机开发板一块

2、TYPE-C USB数据线一根

3、gnss天线一根

4、Air8000整机开发板和数据线的硬件接线方式为

- Air8000整机开发板通过TYPE-C USB口供电；（整机开发板的拨钮开关拨到USB供电）

- TYPE-C USB数据线直接插到核心板的TYPE-C USB座子，另外一端连接电脑USB口；


## 演示软件环境

1、Luatools下载调试工具

2、[Air8000 V2012版本固件](https://docs.openluat.com/air8000/luatos/firmware/)

## 演示核心步骤

1、搭建好硬件环境

2、通过Luatools将demo与固件烧录到核心板中

3、烧录好后，板子开机将会在Luatools上看到如下打印：

(1) 持续震动模式：

```lua
[2025-08-15 17:32:31.960][000000000.440] I/user.轻微检测
[2025-08-15 17:32:32.099][000000000.441] I2C_MasterSetup 426:I2C0, Total 260 HCNT 113 LCNT 136
[2025-08-15 17:32:32.197][000000000.444] I/airlink AIRLINK_READY 391 version 0
[2025-08-15 17:32:32.318][000000000.544] I/user.i2c chipid 13 2
[2025-08-15 17:32:32.610][000000000.544] I/user.exvib init success
[2025-08-15 17:32:36.715][000000006.720] D/mobile cid1, state0
[2025-08-15 17:32:36.781][000000006.721] D/mobile bearer act 0, result 0
[2025-08-15 17:32:36.830][000000006.722] D/mobile NETIF_LINK_ON -> IP_READY
[2025-08-15 17:32:36.884][000000006.774] D/mobile TIME_SYNC 0
[2025-08-15 17:32:38.175][000000012.037] I/user.int 1
[2025-08-15 17:32:38.242][000000012.039] I/user.x -0.089843750000000g y -0.11523437500000g z 0.36523437500000g
[2025-08-15 17:32:38.731][000000012.595] I/user.int 0
[2025-08-15 17:32:39.342][000000013.214] I/user.int 1
[2025-08-15 17:32:39.380][000000013.216] I/user.x -0.089843750000000g y 0.0048828120000000g z 0.95117187500000g
[2025-08-15 17:32:39.826][000000013.697] I/user.int 0
[2025-08-15 17:32:40.157][000000014.018] I/user.int 1
[2025-08-15 17:32:40.185][000000014.020] I/user.x 0.0058593750000000g y 0.13769531200000g z 0.80468750000000g
[2025-08-15 17:32:40.639][000000014.502] I/user.int 0
[2025-08-15 17:32:41.201][000000015.059] I/user.int 0
[2025-08-15 17:32:42.015][000000015.875] I/user.int 1
[2025-08-15 17:32:42.078][000000015.878] I/user.x -0.032226562000000g y 0.015625000000000g z 0.80468750000000g
[2025-08-15 17:32:42.562][000000016.433] I/user.int 0
[2025-08-15 17:32:42.812][000000016.680] I/user.int 1
[2025-08-15 17:32:42.842][000000016.683] I/user.x -0.0068359380000000g y -0.010742188000000g z 0.75585937500000g


```

(2) 有效震动模式：

```lua
[2025-08-15 17:34:46.576][000000000.370] I/user.轻微检测
[2025-08-15 17:34:46.691][000000000.371] I2C_MasterSetup 426:I2C0, Total 260 HCNT 113 LCNT 136
[2025-08-15 17:34:46.806][000000000.474] I/user.i2c chipid 13 2
[2025-08-15 17:34:46.927][000000000.474] I/user.exvib init success
[2025-08-15 17:34:48.798][000000006.056] D/mobile cid1, state0
[2025-08-15 17:34:48.862][000000006.057] D/mobile bearer act 0, result 0
[2025-08-15 17:34:48.925][000000006.057] D/mobile NETIF_LINK_ON -> IP_READY
[2025-08-15 17:34:48.987][000000006.090] D/mobile TIME_SYNC 0
[2025-08-15 17:34:49.083][000000009.291] I/user.int 1
[2025-08-15 17:34:49.143][000000009.292] I/user.table.remove 0
[2025-08-15 17:34:49.204][000000009.292] I/user.tick 8 true true
[2025-08-15 17:34:49.262][000000009.293] I/user.tick2 0 0 0 0 8
[2025-08-15 17:34:49.301][000000009.776] I/user.int 0
[2025-08-15 17:34:49.436][000000009.911] I/user.int 1
[2025-08-15 17:34:49.468][000000009.911] I/user.table.remove 0
[2025-08-15 17:34:49.500][000000009.912] I/user.tick 9 true true
[2025-08-15 17:34:49.529][000000009.912] I/user.tick2 0 0 0 8 9
[2025-08-15 17:34:49.918][000000010.393] I/user.int 0
[2025-08-15 17:34:50.492][000000010.963] I/user.int 1
[2025-08-15 17:34:50.528][000000010.963] I/user.table.remove 0
[2025-08-15 17:34:50.564][000000010.964] I/user.tick 10 false true
[2025-08-15 17:34:50.597][000000010.964] I/user.tick2 0 0 8 9 10
[2025-08-15 17:34:50.979][000000011.446] I/user.int 0
[2025-08-15 17:34:51.352][000000011.829] I/user.int 1
[2025-08-15 17:34:51.502][000000011.829] I/user.table.remove 0
[2025-08-15 17:34:51.555][000000011.829] I/user.tick 11 false true
[2025-08-15 17:34:51.612][000000011.830] I/user.tick2 0 8 9 10 11
[2025-08-15 17:34:51.847][000000012.323] I/user.int 0
[2025-08-15 17:34:52.034][000000012.508] I/user.int 1
[2025-08-15 17:34:52.068][000000012.509] I/user.table.remove 0
[2025-08-15 17:34:52.097][000000012.509] I/user.tick 12 true true
[2025-08-15 17:34:52.129][000000012.510] I/user.tick2 8 9 10 11 12
[2025-08-15 17:34:52.155][000000012.510] I/user.vib xxx
[2025-08-15 17:34:52.184][000000012.511] I/user.触发有效震动
[2025-08-15 17:34:52.514][000000012.992] I/user.int 0

```
