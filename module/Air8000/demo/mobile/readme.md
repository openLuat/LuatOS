## 功能模块介绍

1、main.lua：主程序入口，负责初始化系统环境和加载移动网络测试模块；

2、mobile_test.lua：移动网络功能测试模块，演示Air8000的移动网络相关功能；

## 演示功能概述

1、mobile_test：演示以下几种应用场景的使用方式

- SIM卡配置和管理功能演示；
- 基站数据查询（订阅式和轮询式）功能演示；
- SIM卡状态订阅功能演示；
- 频段(Band)测试和修改功能演示；
- 移动网络信息获取（IMEI/IMSI/信号强度等）功能演示；

## 演示硬件环境

1、Air8000开发板一块 + 可上网的SIM卡一张 + 4G天线一根：

- SIM卡插入开发板的SIM卡槽
- 天线装到开发板上

2、TYPE-C USB数据线一根 + USB转串口数据线一根，Air8000开发板和数据线的硬件接线方式为：

- Air8000开发板通过TYPE-C USB口供电；（外部供电/USB供电 拨动开关 拨到 USB供电一端）
- TYPE-C USB数据线直接插到核心板的TYPE-C USB座子，另外一端连接电脑USB口；

## 演示软件环境

1、Luatools下载调试工具

2、Air8000 版本固件：[Air8000 版本固件](https://docs.openluat.com/air8000/luatos/firmware/)

## 演示核心步骤

1、搭建好硬件环境

2、确保SIM卡已正确插入开发板

3、Luatools烧录内核固件和demo脚本代码

4、烧录成功后，自动开机运行，通过串口日志可以观察到以下信息：

- SIM卡状态监控信息
- 基站数据查询结果
- 移动网络信息（IMEI/IMSI/信号强度等）
- 频段测试和修改结果

``` lua
[2025-10-23 15:58:31.141][000000000.361] I/user.main project name is  mobiledemo version is  001.000.000
[2025-10-23 15:58:31.142][000000000.370] I/mobile sim set to 2 , ret 0
[2025-10-23 15:58:31.144][000000000.373] I/user.************开始测试band************
[2025-10-23 15:58:31.161][000000001.774] I/user.当前使用的band:
[2025-10-23 15:58:31.163][000000001.775] I/user.band 1
[2025-10-23 15:58:31.165][000000001.775] I/user.band 3
[2025-10-23 15:58:31.167][000000001.775] I/user.band 5
[2025-10-23 15:58:31.169][000000001.776] I/user.band 8
[2025-10-23 15:58:31.170][000000001.776] I/user.band 34
[2025-10-23 15:58:31.172][000000001.776] I/user.band 38
[2025-10-23 15:58:31.173][000000001.776] I/user.band 39
[2025-10-23 15:58:31.175][000000001.777] I/user.band 40
[2025-10-23 15:58:31.176][000000001.777] I/user.band 41
[2025-10-23 15:58:31.178][000000001.791] I/user.修改后使用的band:
[2025-10-23 15:58:31.179][000000001.792] I/user.band 38
[2025-10-23 15:58:31.180][000000001.792] I/user.band 39
[2025-10-23 15:58:31.182][000000001.793] I/user.band 40
[2025-10-23 15:58:31.183][000000001.799] I/user.修改回默认使用的band:
[2025-10-23 15:58:31.184][000000001.800] I/user.band 1
[2025-10-23 15:58:31.186][000000001.800] I/user.band 3
[2025-10-23 15:58:31.187][000000001.800] I/user.band 5
[2025-10-23 15:58:31.189][000000001.800] I/user.band 8
[2025-10-23 15:58:31.190][000000001.801] I/user.band 34
[2025-10-23 15:58:31.191][000000001.801] I/user.band 38
[2025-10-23 15:58:31.193][000000001.801] I/user.band 39
[2025-10-23 15:58:31.195][000000001.802] I/user.band 40
[2025-10-23 15:58:31.196][000000001.802] I/user.band 41
[2025-10-23 15:58:31.198][000000001.802] I/user.************band测试完毕************
[2025-10-23 15:58:48.147][000000018.809] I/user.imei 864793080175404
[2025-10-23 15:58:48.149][000000018.809] I/user.imsi 460240452233401
[2025-10-23 15:58:48.151][000000018.810] I/user.status 1
[2025-10-23 15:58:48.153][000000018.810] I/user.iccid 89860855102480513401
[2025-10-23 15:58:48.155][000000018.810] I/user.csq 27
[2025-10-23 15:58:48.157][000000018.811] I/user.rssi -58
[2025-10-23 15:58:48.158][000000018.811] I/user.rsrq -9
[2025-10-23 15:58:48.160][000000018.811] I/user.rsrp -87
[2025-10-23 15:58:48.161][000000018.812] I/user.snr 16
[2025-10-23 15:58:48.163][000000018.812] I/user.simid 0
[2025-10-23 15:58:48.169][000000018.812] I/user.apn cmiot.MNC024.MCC460.GPRS
[2025-10-23 15:58:48.171][000000018.813] I/user.lua 4194296 56552 56552
[2025-10-23 15:58:48.172][000000018.813] I/user.sys 3202992 355468 360724
[2025-10-23 15:58:56.722][000000027.379] I/user.cell [{"mnc":0,"dlbandwidth":5,"tdd":0,"earfcn":1300,"ulbandwidth":5,"band":3,"mcc":460,"pci":219,"rsrp":-86,"tac":18511,"rssi":-57,"rsrq":-9,"snr":16,"cid":190213964},{"mnc":15,"earfcn":1300,"pci":219,"rsrp":-86,"tac":18511,"mcc":460,"rsrq":-9,"snr":16,"cid":190213964},{"mnc":0,"earfcn":40936,"pci":368,"rsrp":-103,"tac":18511,"mcc":460,"rsrq":-7,"snr":0,"cid":192844432}]
[2025-10-23 15:58:56.726][000000027.382] I/user.sim status SIM_WC
[2025-10-23 15:58:56.728][000000027.383] I/user.sim write counter 2
```

5、日志中会实时显示移动网络相关信息的变化，可通过观察日志来验证功能是否正常工作
