## 演示模块概述

1、main.lua：主程序入口；

2、test_adc.lua：ADC测量功能模块；

## 演示功能概述

使用Air8101核心板测试ADC功能。

## 演示硬件环境

1、Air8101核心板一块

2、TYPE-C USB数据线一根

3、杜邦线若干

4、外部供电电源Air9000P

![](https://docs.openLuat.com/cdn/image/8101_adc.jpg)

## 演示软件环境

1、Luatools下载调试工具

2、[Air8101 V2014版本]((https://docs.openluat.com/air8101/luatos/firmware/version/))（理论上最新版本固件也可以，如果使用最新版本的固件不可以，可以烧录V2012-1固件对比验证）

## 演示核心步骤

1、搭建好硬件环境

2、Luatools烧录内核固件和demo脚本代码

3、烧录成功后，自动开机运行

4、如下是adc通道4外部供电1.2V，adc通道1外部供电1.2V，adc通道2外部供电2.3V，adc通道3外部供电2.3V的环境下测试的，代码运行结果如下：

这样设置量程和外部供电是为了更直观的观察不同通道下相同供电电压对精准度的影响，可以看到如下测量的数据是符合预期的

对于Air8101：ADC_RANGE_MIN对应量程为0-1.5V，ADC_RANGE_MAX对应量程为0-2.4V。

在外部供电1.2V的情况下，测得电压值相差不大；在外部供电2.3V的情况下，测得电压值相差也不大

```
[2025-09-16 15:41:11.494] luat:U(9438):I/user.adc通道1 处理值: 1219.88 mV (样本数:10)

[2025-09-16 15:41:12.037] luat:U(9444):I/user.adc通道2 处理值: 2338.50 mV (样本数:10)

[2025-09-16 15:41:12.037] luat:U(9451):I/user.adc通道3 处理值: 2337.12 mV (样本数:10)

[2025-09-16 15:41:11.494] luat:U(9431):I/user.adc通道4 处理值: 1220.00 mV (样本数:10)

[2025-09-16 15:41:12.037] luat:U(9455):I/user.CPU TEMP 温度值: 30.00 ℃(样本数:10)

[2025-09-16 15:41:12.037] luat:U(9459):I/user.VBAT 处理值: 3346.00 mV (样本数:10)


```
