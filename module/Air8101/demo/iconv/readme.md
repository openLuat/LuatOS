## 功能模块介绍

1、main.lua：主程序入口；

2、iconv.lua：字符编码转换模块，提供多种字符编码之间的相互转换功能；


## 演示功能概述

本demo演示的功能为：
提供多种字符编码之间的相互转换功能，支持以下编码转换：
1. Unicode小端(ucs2)与GB2312编码互转
2. Unicode大端(ucs2be)与GB2312编码互转
3. Unicode小端(ucs2)与UTF8编码互转
4. Unicode大端(ucs2be)与UTF8编码互转
5. GB2312 编码与 UTF-8 编码之间的转换。



## 演示硬件环境

![](https://docs.openluat.com/air8101/luatos/app/image/netdrv_multi.jpg)

1、Air8101核心板一块

2、TYPE-C USB数据线一根

3、Air8101核心板和数据线的硬件接线方式为

- Air8101核心板通过TYPE-C USB口供电；（核心板背面的功耗测试开关拨到OFF一端）

- 如果测试发现软件频繁重启，重启原因值为：poweron reason 0，可能是供电不足，此时再通过直流稳压电源对核心板的vbat管脚进行4V供电，或者VIN管脚进行5V供电；

- TYPE-C USB数据线直接插到核心板的TYPE-C USB座子，另外一端连接电脑USB口；

- USB转串口数据线，一般来说，白线连接核心板的12/U1TX，绿线连接核心板的11/U1RX，黑线连接核心板的gnd，另外一端连接电脑USB口；


## 演示软件环境

1、Luatools下载调试工具

2、[Air8101 V1006版本固件](https://docs.openluat.com/air8101/luatos/firmware/)

## 演示操作步骤

1、搭建好硬件环境

2、将demo烧录到模组中

3、可以看到如下输出：
```lua
[2025-10-27 18:28:17.553][000000005.822] D/mobile NETIF_LINK_ON -> IP_READY
[2025-10-27 18:28:17.614][000000005.932] D/mobile TIME_SYNC 0
[2025-10-27 18:28:21.797][000000010.217] ucs2ToGb2312
[2025-10-27 18:28:21.850][000000010.218] gb2312  code： CED2 4
[2025-10-27 18:28:21.927][000000010.218] gb2312ToUcs2
[2025-10-27 18:28:21.990][000000010.218] unicode little-endian code:1162
[2025-10-27 18:28:22.050][000000010.219] ucs2beToGb2312
[2025-10-27 18:28:22.109][000000010.219] gb2312 code :CED2
[2025-10-27 18:28:22.169][000000010.219] gb2312ToUcs2be
[2025-10-27 18:28:22.227][000000010.220] unicode big-endian code :6211
[2025-10-27 18:28:22.294][000000010.220] ucs2ToUtf8
[2025-10-27 18:28:22.349][000000010.220] utf8  code:E68891
[2025-10-27 18:28:22.400][000000010.220] utf8ToGb2312
[2025-10-27 18:28:22.452][000000010.221] gb2312 code:CED2
[2025-10-27 18:28:22.510][000000010.221] gb2312ToUtf8

```